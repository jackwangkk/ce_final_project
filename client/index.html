<!-- Registration Form -->
<div id="register-form">
  <input type="text" id="username" placeholder="Username">
  <input type="password" id="password" placeholder="Password">
  <button onclick="handleRegister()">Register</button>
  <div id="qrcode-container"></div>
</div>

<!-- Login Form -->
<div id="login-form">
  <input type="text" id="login-username" placeholder="Username">
  <input type="password" id="login-password" placeholder="Password">
  <input type="text" id="otp-code" placeholder="OTP Code (Optional)">
  <button onclick="handleLogin()">Login</button>
</div>

<script type="module">
  import { registerUser, loginUser } from './auth.js';

  window.handleRegister = async function() {
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;
    await registerUser(username, password);
  };

  window.handleLogin = async function() {
    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;

    const result = await loginUser(username, password);
    if (result.success) {
      // Redirect to file manager page after successful login
      window.location.href = './file-manager.html';
    }
  };
</script>